{% extends 'base.html' %}

{% block content %}

<div    id="login-link"    
        class="container-fluid header-img" 
        style="background: url(' {{ g.user.header_image_url }}') no-repeat top center fixed; width:100%">
</div>

<div class="profile-container container mt-3">
    <div class="team-single">
        <div class="row">
            <div class="col-lg-4 col-md-5">
                <div class="text-center mb-2">
                    <img class="profile-img img-fluid rounded-circle shadow" src="{{ g.user.image_url}}" alt="" data-holder-rendered="true">
                </div>
                <div class="profile-text bg-light-gray padding-30px-all md-padding-25px-all sm-padding-20px-all text-center">
                    <h4 class="margin-10px-bottom font-size24 md-font-size22 sm-font-size20 font-weight-600 pt-2">{{g.user.username}}</h4>
                    <a class="btn btn-primary btn-customized btn my-2 p-3 " href="{{ url_for('.users_edit', user_id=g.user.id ) }}">EDIT PROFILE</a>
                    <p>Name: {{g.user.full_name }}</p>
                    <p>Joined: {{ g.user.friendly_date }}</p>
                    <i class="fas fa-envelope text-pink"></i><p class="d-inline"><strong class="" > {{ g.user.email }}</strong></p>
                    <h4 class="margin-10px-bottom font-size24 md-font-size22 sm-font-size20 font-weight-600 pt-2">Workout Assignments</h4>
                    <a class="btn btn-primary btn-customized btn my-2 p-3 " href="{{ url_for('.athlete_workouts_show' ) }}">VIEW ASSIGMENTS</a>
                    <a class="btn btn-primary btn-customized btn my-2 p-3" href="{{ url_for('.athlete_workouts_assign' ) }}">ASSIGN WORKOUT</a>
                </div>
            </div>
            
            <div class="col-lg-8 col-lg-7 pt-0 mt-0">
                
                <div class="padding-50px-left sm-no-padding-left">
                  
                   
                    <div class="margin-40px-tb">
                        <ul class="no-margin list-unstyled">
                            <li>
                                <div class="row">
                                    <div class="col-md-4 col-3">
                                        <div class="flex-row justify-center">
                                            <i class="d-inline fas fa-users fa-1x mt-2"></i>
                                            <strong class="tes2-md ms-2">Teams</strong>
                                            <div class="m-0 p-0">
                                                {% if teams|length != 0  and team_is != 0%}
                                                    <a class="btn btn-primary btn-customized btn p-3 mb-2 " href="/teams/add">ADD</a>
                                                {% else %} 
                                                   <a class="btn-floating btn-primary btn-customized text-decoration-none pulse p-2 mb-2"  href="/teams/add">ADD</a>            
                                                {% endif %}
                                            </div>
                                        </div>

                                        <div class="flex-row justify-center">
                                            <i class="d-inline fas fa-running fa-1x mt-0 pt-0"></i>
                                            <strong class="tes2-md  mt-1 ms-2">Athletes</strong>
                                            <div class="mb-3 mt-2">
                                                <a class="btn-floating btn-primary btn-customized text-decoration-none p-3 mb-2"  href="/athletes/add">ADD</a>
                                            </div>
                                        </div>

                                        <div class="flex-row justify-center">
                                            <i class="d-inline fas fa-dumbbell fa-1x mt-2"></i>
                                            <strong class="tes2-md ms-2">Workouts</strong>
                                            <div class="mb-3 mt-2">
                                                <a class="btn-floating btn-primary btn-customized text-decoration-none p-3 mb-2" href="/workouts/add">ADD</a>
                                            </div>
                                        </div> 
                                        <div class="flex-row justify-center">
                                            <i class="d-inline fas fa-swimmer fa-1x mt-2"></i>
                                            <strong class="tes2-md ms-2">Exercises</strong>
                                            <div class="mb-3 mt-2">
                                                <a class="btn-floating btn-primary btn-customized text-decoration-none p-3 mb-2" href="/exercises/add">ADD</a>
                                            </div>
                                       
                                        </div>
                                    </div>
                                    <div class="col-md-8 col-9 mt-2">
                                        {% block user_content %} {% endblock %}
                                        
                                        {% if teams|length == 0 %}
                                            <div class="d-flex flex-row align-items-center m-0 pt-2">
                                                <i class="bi bi-arrow-left-square-fill fa-2x me-2"></i>
                                                <p class="col-12 text-dark m-0 fs-1">GET STARTED!</p>
                                            </div>
                                            <div class="row">
                                                <p class="d-block text-dark">Add your first team</p>
                                            </div>
                                        {% endif %}

                                        

                                        {% for team in teams %}

                                        
                                       
                                            <div class="card user-team-card border border-dark rounded-pill mb-3">
                                               
                                                <div class="card-horizontal ">
                                                    <a class="card-link text-dark text-decoration-none" href="/teams/{{ team.id }}">
                                                    <div class="img-square-wrapper d-none d-md-block ps-1">
                                                        <img class="team-image rounded-circle col p-1 m-2" src="{{ team.team_image_url }}" alt="Card image cap">
                                                    </div>
                                                    <div class="card-body ms-4 ps-4 ">                                                  
                                                        <a class="card-link text-dark text-decoration-none  ms-0" href="/teams/{{ team.id }}"><p class="card-title tes2 fs-4 mt-2 d-inline">{{ team.name }}</p> </a>
                                                        <div class="d-flex pb-2">
                                                            <a class="btn-floating btn-primary btn-customized text-decoration-none p-3 mb-2 " href="/teams/edit/{{ team.id }}">EDIT</a>  
                                                            <form action="{{ url_for('.team_delete', team_id=team.id ) }}" method="POST">
                                                                <a class="tooltips page-links-dark  " data-toggle="tooltip" data-placement="top" title="Delete">
                                                                    <button class="page-links-dark " type="submit" onclick="return confirm('Are you sure to delete this team?');" style="border: 0; background: none;">
                                                                        <i class="bi bi-trash fa-2x"></i>
                                                                    </button>
                                                                </a> 
                                                            </form>
                                                        </div> 
                                                        <p class="tes2">LOCATION: {{ team.location }}</p>                                         
                                                    </div>
                                                
                                                </div>
                                         
                                            </div>
                                            
                                        {% endfor %}   
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>    
            </div>
        </div>
    </div>
</div>

{% endblock %}